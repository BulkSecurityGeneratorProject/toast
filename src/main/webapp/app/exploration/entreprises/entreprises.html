<div>
    <h2 data-translate="crmisticApp.entreprises.home.title">Exploration - Entreprises</h2>
    <jhi-alert></jhi-alert>
    <br/>
    <div class="container-fluid">
        <div class="row">
            <div class="col-xs-3 no-padding-left">
                <div class="form-group">
                    <label class="control-label" data-translate="crmisticApp.entreprises.dateDebut" for="field_dateDebut">Date Debut</label>
                    <div class="input-group">
                        <input enable-time="false" id="field_dateDebut" type="text" class="form-control" name="dateDebut" datetime-picker="{{dateformat}}" ng-model="vm.entreprises.dateDebut" is-open="vm.datePickerOpenStatus.dateDebut"
                        />
                        <span class="input-group-btn">
                        <button type="button" class="btn btn-default" ng-click="vm.openCalendar('dateDebut')"><i class="glyphicon glyphicon-calendar"></i></button>
                    </span>
                    </div>
                </div>
            </div>
            <div class="col-xs-3 no-padding-left">
                <div class="form-group">
                    <label class="control-label" data-translate="crmisticApp.entreprises.dateFin" for="field_dateFin">Date Fin</label>
                    <div class="input-group">
                        <input enable-time="false" id="field_dateFin" type="text" class="form-control" name="dateFin" datetime-picker="{{dateformat}}" ng-model="vm.entreprises.dateFin" is-open="vm.datePickerOpenStatus.dateFin"
                        />
                        <span class="input-group-btn">
                        <button type="button" class="btn btn-default" ng-click="vm.openCalendar('dateFin')"><i class="glyphicon glyphicon-calendar"></i></button>
                    </span>
                    </div>
                </div>
            </div>
            <div class="col-xs-3 no-padding-left">
                <div class="form-group">
                    <label class="control-label" data-translate="crmisticApp.entreprises.nbEtudiants" for="field_nbEtudiants">Nb. Etudiants</label>
                    <input type="number" class="form-control" name="nbEtudiants" id="field_nbEtudiants"
                           ng-model="vm.entreprises.nbEtudiants"
                    />
                </div>
            </div>
        </div>
    </div>
</div>

<section id="map">
    <div ng-repeat="marker in myMarkers" ui-map-marker="myMarkers[$index]"
         ui-event="{'map-click': 'openMarkerInfo(marker)'}">
    </div>

    <div ui-map-info-window="myInfoWindow">
        <span><strong>{{ currentEntreprise.nom }}</strong></span>
        <br />
        <span>{{ currentEntreprise.adresse }}</span>
        <br />
        <span>{{ currentEntreprise.codePostal }} {{ currentEntreprise.ville }}</span>
        <br /><br />
        <!-- TODO : add translation -->
        <span data-translate="crmisticApp.entreprises.map.infoWindow.description" translate-values="{nbEtudiants: '{{currentLabel}}'}">a re√ßu {{ currentLabel }} stagiaire(s)</span>
    </div>

    <div ui-map="myMap" ui-options="mapOptions" class="map-canvas"></div>
</section>

<div class="table-responsive">
    <table class="jh-table table table-striped">
        <thead>
        <tr jh-sort="vm.predicate" ascending="vm.reverse" callback="vm.transition()">
            <th jh-sort-by="id"><span data-translate="global.field.id">ID</span> <span class="glyphicon glyphicon-sort"></span></th>
            <th jh-sort-by="entreprise"><span data-translate="crmisticApp.entreprises.entreprise">Entreprise</span> <span class="glyphicon glyphicon-sort"></span></th>
            <th jh-sort-by="nbEtudiants"><span data-translate="crmisticApp.entreprises.nbEtudiants">Nb. Etudiants</span> <span class="glyphicon glyphicon-sort"></span></th>
            <th></th>
        </tr>
        </thead>
        <tbody>
        <tr ng-repeat="entreprise in vm.entreprises track by entreprise.id">
            <!-- completer entreprise id-->
            <td><a ui-sref=""></a></td>
            <!-- completer entreprise nom -->
            <td></td>
            <!-- completer nb etudiants -->
            <td></td>

            <td class="text-right">
                <!-- completer/modifier rediriger vers la map -->
                <div class="btn-group flex-btn-group-container">
                    <button type="submit"
                            ui-sref=""
                            class="btn btn-info btn-sm">
                        <span class="glyphicon glyphicon-eye-open"></span>
                        <span class="hidden-xs hidden-sm" data-translate="entity.action.view"></span>
                    </button>
                </div>
            </td>
        </tr>
        </tbody>
    </table>
</div>
<div class="text-center">
    <jhi-item-count page="vm.page" total="vm.queryCount" items-per-page="vm.itemsPerPage"></jhi-item-count>
    <uib-pagination class="pagination-sm" total-items="vm.totalItems" items-per-page="vm.itemsPerPage" ng-model="vm.page" ng-change="vm.transition()"></uib-pagination>
</div>
